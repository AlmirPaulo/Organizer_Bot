#! /bin/bash

#sed -i 's///'
#Welcome message
echo 'Welcome to the Organizer Bot installation!'
echo 'We need some information to set the bot properly.'

#Input variables
read -p 'Whats your Personal Folder name? (The one inside your home directory) ' FOLDER

read -p 'What is the name of the folder that will receive text files? (should be inside your home directory) ' DOCS

read -p 'What is the name of the folder that will receive image files? (should be inside your home directory) ' PICS

read -p 'What is the name of the folder that will receive video files? (should be inside your home directory) ' VIDEOS

read -p 'What is the name of the folder that will receive audio files? (should be inside your home directory) ' AUDIOS


#Asking for permission
echo "If you have answered wrong to any of these questions we can start this again."
while true 
do
	read -p 'Do you want to restart? ' ANSWER
	case "$ANSWER" in 
		[nN] | [nN][oO] )
			sudo sed -i  "s/PERSONAL_FOLDER/$FOLDER/" /etc/init.d/organizer_bot.py
			sudo sed -i  "s/Documents/$DOCS/" /etc/init.d/organizer_bot.py
			sudo sed -i  "s/Pictures/$PICS/" /etc/init.d/organizer_bot.py
			sudo sed -i  "s/Videos/$VIDEOS/" /etc/init.d/organizer_bot.py
			sudo sed -i  "s/Music/$AUDIOS/" /etc/init.d/organizer_bot.py

			echo "It's Alive!" 
			echo "Don't forget to set it in your crontab."
			echo 'read about it in the README.md'
			echo Í„'https://github.com/AlmirPaulo/Organizer_Bot/blob/main/README.md'
			echo 'Contact-me on Github if you need any help'
			echo 'Cheers'
			break;;
		[yY] | [yY][eE][sS])
			read -p 'Whats your Personal Folder name? (The one inside your home directory) ' FOLDER
			read -p 'What is the name of the folder that will receive text files? (should be inside your home directory) ' DOCS

			read -p 'What is the name of the folder that will receive image files? (should be inside your home directory) ' PICS

			read -p 'What is the name of the folder that will receive video files? (should be inside your home directory) ' VIDEOS

			read -p 'What is the name of the folder that will receive audio files? (should be inside your home directory) ' AUDIOS
			;;
	esac
done
